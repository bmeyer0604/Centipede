!function(t){var s={};function i(e){if(s[e])return s[e].exports;var h=s[e]={i:e,l:!1,exports:{}};return t[e].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=t,i.c=s,i.d=function(t,s,e){i.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,s){if(1&s&&(t=i(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var h in t)i.d(e,h,function(s){return t[s]}.bind(null,h));return e},i.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(s,"a",s),s},i.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},i.p="",i(i.s=8)}([function(t,s){const i={inherits(t,s){},dist:(t,s)=>Math.sqrt(Math.pow(t[0]-s[0],2)+Math.pow(t[1]-s[1],2))};t.exports=i},function(t,s,i){const e=i(0);i(4);t.exports=class{constructor(t,s,i,e,h){this.context=t,this.canvasWidth=s,this.canvasHeight=i,this.player=e,this.game=h,this.x=this.player.x+23,this.y=this.player.y+2,this.radius=1,this.velocityX=0,this.velocityY=.55}draw(t){t.fillStyle="#FFFF00",t.beginPath(),t.arc(this.x,this.y,2,0,2*Math.PI),t.fill()}isCollidedWith(t){return e.dist([this.x,this.y],[t.x,t.y])<this.radius+t.radius}collideWith(t){}move(){this.y-=this.velocityY,this.y<2&&this.game.remove(this)}remove(){this.game.remove(this)}}},function(t,s,i){const e=i(1),h=i(0),o=new Image;o.src="../images/mushroom.png";t.exports=class{constructor(t,s,i,e,h,n){this.context=t,this.canvasWidth=s,this.canvasHeight=i,this.game=n,this.image=o,this.x=e,this.y=h,this.sourceWidth=8,this.sourceHeight=8,this.width=28,this.height=28,this.sourceX=0,this.sourceY=0,this.radius=14,this.poisoned=!1}draw(t){this.context.drawImage(this.image,this.sourceX,this.sourceY,this.sourceWidth,this.sourceHeight,this.x,this.y,this.width,this.height)}isCollidedWith(t){return h.dist([this.x,this.y],[t.x,t.y])<this.radius+t.radius}collideWith(t){t instanceof e&&(t.remove(),this.take_damage())}take_damage(){this.sourceX<16?this.sourceX+=8:(this.remove(),this.game.points+=1,this.game.checkPoints())}move(){}remove(){this.game.remove(this)}}},function(t,s,i){const e=i(1),h=i(2),o=i(0),n=new Image;n.src="../images/centipede-body.png";const a=new Image;a.src="../images/centipede-body-reverse.png";const r=new Image;r.src="../images/centipede-down.png";const c=new Image;c.src="../images/centipede-head.png";const l=new Image;l.src="../images/centipede-head-reverse.png";const d=new Image;d.src="../images/head-down.png";const m=new Audio("../sfx/centipedeDeath.mp4");class u{constructor(t,s,i,e,h,o,a=!1){this.context=t,this.canvasWidth=s,this.canvasHeight=i,this.game=o,this.head=!1,this.velocityX=.15,this.velocityY=25,this.x=e,this.y=h,this.sourceWidth=8,this.sourceHeight=8,this.width=24,this.height=24,this.sourceX=0,this.sourceY=0,this.radius=12,this.angry=!1,this.head=a,this.head?this.image=c:this.image=n,this.frames=0}draw(){this.frames+=1,this.angry?this.frames%150==0&&(this.frames=0,this.sourceX=0,this.sourceY=(this.sourceY+this.sourceHeight)%16):300===this.frames&&(this.frames=0,this.sourceY=0,this.sourceX=(this.sourceX+this.sourceWidth)%32),this.context.drawImage(this.image,this.sourceX,this.sourceY,this.sourceWidth,this.sourceHeight,this.x,this.y,this.width,this.height)}move(){this.angry&&(this.y+=this.velocityY),this.x+=this.velocityX,this.y<0?(this.y=0,this.velocityY=-this.velocityY):this.y>this.canvasHeight-24?(this.y=this.canvasHeight-24,this.velocityY=-25,this.velocityX=.15,this.angry=!1,this.head?this.image=c:this.image=n):this.x<15?this.angry?this.y+=this.velocityY:(this.x=15,this.y+=this.velocityY,this.velocityX=-this.velocityX,this.head?this.image=c:this.image=n):this.x>this.canvasWidth-15&&(this.angry?this.y+=this.velocityY:(this.x=this.canvasWidth-15,this.y+=this.velocityY,this.velocityX=-this.velocityX,this.head?this.image=l:this.image=a))}isCollidedWith(t){return o.dist([this.x,this.y],[t.x,t.y])<this.radius+t.radius}collideWith(t){t instanceof e?(t.remove(),this.remove(),m.play(),this.head?this.game.points+=100:this.game.points+=10,this.game.checkPoints()):t instanceof h?t.poisoned?(this.angry=!0,this.head?this.image=d:this.image=r,this.velocityY=.4,this.velocityX=0):this.angry?this.y+=this.velocityY:(this.y+=this.velocityY,this.velocityX=-this.velocityX,t.x<this.x?(this.head?this.image=c:this.image=n,this.x=t.x+t.width+1):t.x>this.x?(this.head?this.image=l:this.image=a,this.x=t.x-this.width-1):t.y>this.y+this.height&&(this.y=t.y+this.height+1)):t instanceof u&&!this.angry&&!t.angry&&(t.x>this.x&&this.velocityX<0?this.x=t.x-this.width-1:t.x<this.x&&this.velocityX>0&&(this.x=t.x+t.width+1))}remove(){this.game.mushrooms.push(new h(this.context,this.canvasWidth,this.canvasHeight,this.x,this.y,this.game)),this.game.remove(this)}}t.exports=u},function(t,s){t.exports=class{constructor(t){this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color=t.color}draw(t){t.fillStyle=this.color,t.beginPath(),t.arc(95,50,40,0,2*Math.PI),t.fill()}move(){offsetX=this.vel[0],offsetY=this.vel[1],this.pos=[this.pos[0]+offsetX,this.pos[1]+offsetY]}}},function(t,s,i){const e=i(1),h=i(2),o=i(0),n=new Image;n.src="../images/flea.png";const a=new Audio("../sfx/bugDeath.mp4");t.exports=class{constructor(t,s,i,e,h,o){this.context=t,this.canvasWidth=s,this.canvasHeight=i,this.game=o,this.image=n,this.x=e,this.y=h,this.sourceWidth=9,this.sourceHeight=8,this.width=27,this.height=24,this.sourceX=0,this.sourceY=0,this.radius=14,this.velocityY=.5,this.slow=!0,this.frames=0}draw(){this.frames+=1,300===this.frames&&(this.frames=0,this.sourceY=(this.sourceY+this.sourceHeight)%16),this.context.drawImage(this.image,this.sourceX,this.sourceY,this.sourceWidth,this.sourceHeight,this.x,this.y,this.width,this.height)}move(){this.y+=this.velocityY,13===Math.floor(1400*Math.random())&&this.y<930&&this.y>300&&this.game.mushrooms.push(new h(this.context,this.canvasWidth,this.canvasHeight,this.x,this.y,this.game)),this.y>this.canvasHeight-15&&this.remove()}isCollidedWith(t){return o.dist([this.x,this.y],[t.x,t.y])<this.radius+t.radius}collideWith(t){t instanceof e&&(this.slow?(t.remove(),this.slow=!1,this.velocityY*=2.3):(t.remove(),this.remove(),a.play(),this.game.points+=200,this.game.checkPoints()))}remove(){this.game.remove(this)}}},function(t,s,i){const e=i(1),h=i(2),o=i(0),n=new Image;n.src="../images/scorpion.png";const a=new Audio("../sfx/bugDeath.mp4");t.exports=class{constructor(t,s,i,e,h,o){this.context=t,this.canvasWidth=s,this.canvasHeight=i,this.game=o,this.image=n,this.x=e,this.y=h,this.sourceWidth=16,this.sourceHeight=8,this.width=50,this.height=25,this.sourceX=0,this.sourceY=0,this.radius=30,this.velocityX=-.1,this.frames=0}draw(){this.frames+=1,300===this.frames&&(this.frames=0,this.sourceX=(this.sourceX+this.sourceWidth)%64),this.context.drawImage(this.image,this.sourceX,this.sourceY,this.sourceWidth,this.sourceHeight,this.x,this.y,this.width,this.height)}move(){this.x+=this.velocityX,this.x<0&&this.remove()}isCollidedWith(t){return o.dist([this.x,this.y],[t.x,t.y])<this.radius+t.radius}collideWith(t){t instanceof e?(t.remove(),this.remove(),a.play(),this.game.points+=1e3,this.game.checkPoints()):t instanceof h&&(t.poisoned=!0,t.sourceY=8)}remove(){this.game.remove(this)}}},function(t,s,i){const e=i(2),h=i(1),o=i(0),n=new Image;n.src="../images/spider.png";const a=new Audio("../sfx/bugDeath.mp4");t.exports=class{constructor(t,s,i,e,h,o){this.context=t,this.canvasWidth=s,this.canvasHeight=i,this.game=o,this.image=n,this.x=e,this.y=h,this.sourceWidth=16,this.sourceHeight=8,this.width=48,this.height=24,this.sourceX=0,this.sourceY=0,this.radius=12,this.velocityX=.25,0!==this.x&&(this.velocityX=-.25),this.velXTemp=this.velocityX,this.velocityY=.4,this.frames=0}draw(){this.frames+=1,200===this.frames&&(this.sourceX=(this.sourceX+this.sourceWidth)%64),this.context.drawImage(this.image,this.sourceX,this.sourceY,this.sourceWidth,this.sourceHeight,this.x,this.y,this.width,this.height)}checkBounds(){this.y>this.canvasHeight-this.height&&(this.y=this.canvasHeight-this.height)}move(){this.frames%300==0?this.velocityY=-this.velocityY:this.frames%1e3==0&&(this.velocityX=this.velXTemp,this.frames=0),Math.random()<=.5?this.velocityX=0:this.velocityX=this.velXTemp,this.x+=this.velocityX,this.y+=this.velocityY,this.checkBounds(),(this.x>this.canvasWidth+100||this.x<-100)&&this.remove()}isCollidedWith(t){return o.dist([this.x,this.y],[t.x,t.y])<this.radius+t.radius}collideWith(t){t instanceof h?(t.remove(),this.remove(),a.play(),this.game.points+=600,this.game.checkPoints()):t instanceof e&&Math.random()>.8&&t.remove()}remove(){this.game.remove(this)}}},function(t,s,i){const e=i(9);document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("centipede").getContext("2d");new e(t).start()})},function(t,s,i){const e=i(10),h=i(11),o=(i(4),i(3)),n=i(5),a=i(6),r=i(7),c=i(2),l=i(1),d=i(0);t.exports=class{constructor(t){this.DIM_X=500,this.DIM_Y=750,this.context=t,this.isRunning=!1,this.gameView=new e(this.context,this.DIM_X,this.DIM_Y),this.player=new h(this.context,this.DIM_X,this.DIM_Y,this),this.lasers=[],this.mushrooms=[],this.segments=[],this.monsters=[],this.level=1,this.lives=3,this.lives_gained=0,this.points=0,this.setMushrooms(),this.setCentipede(),this.bindKeyboardInput(),this.paused=!1}bindKeyboardInput(){window.addEventListener("keydown",t=>{"Escape"===t.code&&(this.isRunning?this.isRunning=!1:this.isRunning=!0,this.paused=!this.paused,this.context.fillStyle="yellow",this.context.font="30px Arial",this.context.fillText("Pause",.4*this.DIM_X,.5*this.DIM_Y))})}allObjects(){return[].concat(this.player,this.mushrooms,this.lasers,this.segments,this.monsters)}setMushrooms(){for(let t=0;t<30;t++){let t=55*Math.round((Math.random()*(this.DIM_X-70)+25)/55),s=55*Math.round((Math.random()*(.66*this.DIM_Y-38)+45)/55);for(;this.mushrooms.some(i=>d.dist([t,s],[i.x,i.y])<28);)t=55*Math.round((Math.random()*(this.DIM_X-70)+25)/55),s=55*Math.round((Math.random()*(.66*this.DIM_Y-38)+45)/55);const i=new c(this.context,this.DIM_X,this.DIM_Y,t,s,this);this.mushrooms.push(i)}}setCentipede(){let t=20;for(let s=0;s<12;s++){let i;i=11===s?new o(this.context,this.DIM_X,this.DIM_Y,t,15,this,!0):new o(this.context,this.DIM_X,this.DIM_Y,t,15,this),this.segments.push(i),t+=25}}collision(){const t=this.allObjects();for(let s=0;s<t.length;s++)for(let i=0;i<t.length;i++){const e=t[s],h=t[i];if(e.isCollidedWith(h)){if(e.collideWith(h))return}}}remove(t){t instanceof l?this.lasers.splice(this.lasers.indexOf(t),1):t instanceof o?this.segments.splice(this.segments.indexOf(t),1):t instanceof c?this.mushrooms.splice(this.mushrooms.indexOf(t),1):(t instanceof n||t instanceof a||t instanceof r)&&(this.monsters=[])}start(){this.startScreen()}runGameLoop(){if(0===this.lives)this.context.clearRect(0,0,this.DIM_X,this.DIM_Y),this.gameView.draw(),this.gameoverScreen();else if(this.isRunning){this.updateGameState(),this.draw();let t=this;window.setInterval(()=>{t.runGameLoop()},10)}}updateGameState(){this.allObjects().forEach(t=>{t.move()}),this.collision(),0===this.segments.length&&(this.level+=1,this.setCentipede()),this.setMonster()}setMonster(){if(0===this.monsters.length){13===Math.floor(2e3*Math.random())&&(this.mushrooms.length<=15&&0===this.monsters.length?this.setFlea():Math.random()>=.5?this.setSpider():this.setScorpion())}}setFlea(){Math.round((Math.random()*(this.DIM_X-50)+20)/65);this.monsters.push(new n(this.context,this.DIM_X,this.DIM_Y,posX,0,this))}setScorpion(){let t=this.DIM_X,s=Math.floor(Math.random()*(this.DIM_Y-130))+80;this.monsters.push(new a(this.context,this.DIM_X,this.DIM_Y,t,s,this))}setSpider(){let t=0;Math.random()>=.5&&(t=this.DIM_X);let s=Math.floor(Math.random()*(this.DIM_Y-this.DIM_Y/2))+this.DIM_Y/3;this.monsters.push(new r(this.context,this.DIM_X,this.DIM_Y,t,s,this))}draw(){this.context.clearRect(0,0,this.DIM_X,this.DIM_Y),this.gameView.draw(),this.allObjects().forEach(t=>{t.draw(this.context)}),this.context.fillStyle="#FFA500",this.context.font="20px Arial",this.context.fillText(`Level ${this.level}  Lives: ${this.lives}`,20,30),this.context.fillText(`Points: ${this.points}`,380,30),this.paused&&(this.context.fillStyle="yellow",this.context.font="48px Arial",this.context.fillText("Pause",.45*this.DIM_X,.5*this.DIM_Y))}checkPoints(){Math.floor(this.points/1e4)>this.lives_gained&&(this.lives+=1,this.lives_gained+=1)}startScreen(){this.gameView.draw(),this.context.fillStyle="yellow",this.context.font="48px Arial",this.context.fillText("CENTIPEDE",.25*this.DIM_X,.38*this.DIM_Y),this.context.font="24px Arial",this.context.fillText("Press any key to start",.28*this.DIM_X,.5*this.DIM_Y),document.addEventListener("keydown",()=>{this.isRunning=!0,this.paused=!1,this.runGameLoop()})}gameoverScreen(){this.isRunning=!1,this.gameView.draw(),this.context.fillStyle="yellow",this.context.font="48px Arial",this.context.fillText("GAME OVER",.23*this.DIM_X,.38*this.DIM_Y),this.context.font="26px Arial",this.context.fillText(`Points: ${this.points}`,.25*this.DIM_X,.53*this.DIM_Y),this.context.font="24px Arial",this.context.fillText("Press any key to try again",.25*this.DIM_X,.6*this.DIM_Y),document.addEventListener("keydown",()=>{this.isRunning=!0,this.paused=!1}),this.lasers=[],this.mushrooms=[],this.segments=[],this.monsters=[],this.level=1,this.lives=3,this.lives_gained=0,this.points=0,this.setMushrooms(),this.setCentipede()}}},function(t,s){t.exports=class{constructor(t,s,i){this.context=t,this.width=s,this.height=i}draw(){this.context.fillStyle="#000000",this.context.beginPath(),this.context.fillRect(0,0,this.width,this.height)}}},function(t,s,i){const e=i(3),h=i(5),o=i(6),n=i(7),a=(i(2),i(1)),r=i(0),c=new Image;c.src="../ship5.png";const l=57,d=53,m=new Audio("../sfx/laser.mp4"),u=new Audio("../sfx/explosion.mp4");t.exports=class{constructor(t,s,i,e){this.context=t,this.canvasWidth=s,this.canvasHeight=i,this.game=e,this.x=(this.canvasWidth-l)/2,this.y=this.canvasHeight-d-10,this.velocityX=0,this.velocityY=0,this.radius=23,this.image=new Image,this.image=c,this.bindKeyboardInput(),this.rightDown=!1,this.leftDown=!1,this.upDown=!1,this.downDown=!1}bindKeyboardInput(){window.addEventListener("keydown",t=>{if("ArrowLeft"===t.key&&(this.velocityX=-.4),"ArrowRight"===t.key&&(this.velocityX=.4),"ArrowUp"===t.key&&(this.velocityY=-.4),"ArrowDown"===t.key&&(this.velocityY=.4),"Space"===t.code){let t=new a(this.context,this.canvasWidth,this.canvasHeight,this,this.game);this.game.lasers.push(t),m.play()}this.checkBounds()}),window.addEventListener("keyup",t=>{"ArrowLeft"===t.key&&(this.velocityX=0),"ArrowRight"===t.key&&(this.velocityX=0),"ArrowUp"===t.key&&(this.velocityY=0),"ArrowDown"===t.key&&(this.velocityY=0)})}checkBounds(){this.x<5?this.x=5:this.x>this.canvasWidth-l-5?this.x=this.canvasWidth-l-5:this.y<5?this.y=5:this.y>this.canvasHeight-d-5&&(this.y=this.canvasHeight-d-5)}isCollidedWith(t){return r.dist([this.x,this.y],[t.x,t.y])<this.radius+t.radius}collideWith(t){(t instanceof e||t instanceof n||t instanceof h||t instanceof o)&&(u.play(),this.x=(this.canvasWidth-l)/2,this.y=this.canvasHeight-d-10)}move(){this.x+=this.velocityX,this.y+=this.velocityY,this.checkBounds()}draw(){this.context.drawImage(this.image,this.x,this.y,l,d)}}}]);
//# sourceMappingURL=bundle.js.map